import{r as v,e as o,o as d,f as x,w as p,c as y,b as M,F as T,D as N,j as u,k as $,d as t,a as n,i as E,t as F,u as _,E as f,G as g}from"./index-811e683d.js";import{i as H,_ as R}from"./http-a024b3f6.js";import{b as j}from"./index-2a526f70.js";import{s as q}from"./index-83de5650.js";const A={__name:"Tabs-temp",props:{tabs:{type:Array,required:!0},activeColor:{type:String}},setup(r){const c=v(0);return(e,l)=>{const s=o("van-tab"),m=o("van-tabs");return d(),x(m,{active:c.value,"onUpdate:active":l[0]||(l[0]=i=>c.value=i)},{default:p(()=>[(d(!0),y(T,null,M(r.tabs,(i,b)=>(d(),x(s,{key:b,title:i},null,8,["title"]))),128))]),_:1},8,["active"])}}},G=r=>H.get(`/goods/${r}`),U={class:"h-screen pt-12 bg-sh-gray"},z={class:"h-full pb-12 overflow-y-scroll"},I=["src","alt"],J={class:"sticky top-0"},K=["innerHTML"],X={__name:"BookView",setup(r){const c=N(),e=v({}),l=u(()=>e.value.title),s=v(0),m=v(["概述","热评","相关图书"]),i=u(()=>s.value===0),b=u(()=>s.value===1),C=u(()=>s.value===2);$(()=>{G(c.params.id).then(a=>{e.value=a.goods})});function B(a){s.value=a}function D(){q("添加中...",a=>{j(c.params.id).then(w=>{w===""&&(a.message="添加成功",setTimeout(()=>{a.close()},400))})})}return(a,w)=>{const S=o("van-card"),L=o("van-list"),h=o("van-action-bar-icon"),k=o("van-action-bar-button"),V=o("van-action-bar");return d(),y(T,null,[t(R,null,{title:p(()=>[E(F(_(l)),1)]),_:1}),n("main",U,[n("div",z,[n("img",{src:e.value.cover_url,alt:e.value.description},null,8,I),t(S,{title:e.value.title,desc:e.value.description,price:e.value.price},null,8,["title","desc","price"]),n("div",J,[t(A,{tabs:m.value,color:"#10B981",onChange:B},null,8,["tabs"])]),t(L,{class:"min-h-max"},{default:p(()=>[f(n("div",{innerHTML:e.value.details},null,8,K),[[g,_(i)]]),f(n("div",null,"评论",512),[[g,_(b)]]),f(n("div",null,"相关",512),[[g,_(C)]])]),_:1})]),t(V,null,{default:p(()=>[t(h,{icon:"chat-o",text:"客服"}),t(h,{icon:"cart-o",text:"购物车"}),t(h,{icon:"star",text:"收藏"}),t(k,{type:"warning",text:"加入购物车",onClick:D}),t(k,{type:"danger",text:"立即购买"})]),_:1})])],64)}}};export{X as default};
